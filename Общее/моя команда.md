```go
func main() {
	s := "test"
	println(s[0]) // выведет 116
	//нужно сделать слайс рун runeSlice := []rune(s)
	//далее runeSlice[0] = 'R'
	//s = string(runeSlice)
	s[0] = "R"
	println(s)
}
```

```go
func main() {
	x := []int{}
	x = append(x, 0)     // l1 c1
	x = append(x, 1)     // l2 c2
	x = append(x, 2)     // l3 c4 x[0 1 2]
	y := append(x, 3)    // l4 c4 x[0 1 2]
	z := append(x, 4)    // l4 c4 x[0 1 2]
	fmt.Println(x, y, z) // x[0 1 2] y[0 1 2 4] z[0 1 2 4]
}
```

```GO
// Требуется реализовать функцию uniqRandn, которая генерирует слайс длины n уникальных, рандомных чисел.
func uniqRand(n int) []int {
 rand.Seed(time.Now().UnixNano()) 
 numbers := make(map[int]bool)
 res := make([]int, 0, n)

 for len(res) < n {
  randNum := rand.Intn(n) 
  if !numbers[randNum] {
   numbers[randNum] = true
   res = append(res, randNum)
  }
 }
 return res
}
```


```go
Что выведет программа?
func main() {
	timeStart := time.Now()
	_, _ = <-worker1(), <-worker1() // работает последовательно

	// для вывода 3 нужно сделать так
	ch1 := worker1()
	ch2 := worker1()

	var wg sync.WaitGroup
	wg.Add(2)

	go func() {
		defer wg.Done()
		<-ch1
	}()
	go func() {
		defer wg.Done()
		<-ch2
	}()
	wg.Wait()
	//
	
	fmt.Println(int(time.Since(timeStart).Seconds())) // выведет 6
}

func worker1() chan int {
	ch := make(chan int)
	go func() {
		time.Sleep(3 * time.Second)
		ch <- 1
	}()
	return ch
}
Доп вопрос - как сделать что бы напечаталось 3

```

```go
Дано натуральное число (например 123). Нужно написать метод, который принимает это число и возвращает число наоборот - (в данном случае 321).
func reverseNumber(n int) int { 
	reversed := 0 
	for n > 0 { 
		reversed = reversed*10 + n%10 
		n /= 10 
	} 
	return reversed 
}
```


```sql
// user
id | firstname | lastname | birth
1  | Ivan      | Petrov   | 1996-05-01
2  | Anna      | Petrova  | 1999-06-01      
3  | Anna      | Petrova  | 1990-10-02
      
// purchase
sku| price | user_id | date
1  | 5500  | 1       | 2021-02-15
1  | 5700  | 1       | 2021-01-15
2  | 4000  | 1       | 2021-02-14
3  | 8000  | 2       | 2021-03-01
4  | 400   | 2       | 2021-03-02

// ban_list
user_id | date_from   
1       | 2021-03-08


-- Вывести уникальные комбинации пользователя и id товара для всех покупок, совершенных пользователями до того, как их забанили.
-- Отсортировать сначала по имени пользователя, потом по SKU (id товара)

SELECT 
    user.id,
    user.firstname,
    user.lastname,
    purchase.sku
    FROM purchase
    JOIN user ON purchase.user_id = user.id
    LEFT JOIN ban_list AS bl ON user.id = bl.user_id
DISTINCT ON
    (user.id, purchase.sku)
WHERE
    bl.date_from > purchase.date
    OR bl IS NULL
ORDER BY
    user.firstname, user.lastname, purchase.sku
;

-- Найти пользователей, которые совершили покупок на сумму больше 5000р. Вывести их имена в формате id пользователя | имя | фамилия | сумма покупок
SELECT
    user.id,
    user.firstname,
    user.lastname,
    subquery.sumprice
    JOIN (
        SELECT
            user.id AS user_id,
            SUM(purchase.price) AS sumprice
        GROUP BY
            user.id
        HAVING
            SUM(purchase.price) > 5000
    ) AS subquery ON subquery.user_id = user.id
;


SELECT
    user.id,
    user.firstname,
    user.lastname,
    SUM(purchase.price)
GROUP BY
    user.id, user.firstname, user.lastname
HAVING
    SUM(purchase.price) > 5000
;
```

![[Attachments/Pasted image 20240929184318.png]]


![[Attachments/Pasted image 20240930151055.png]]

